@using LightstoneApp.Presentation.Web.Mvc.Client.Resources

@model LightstoneApp.Presentation.Web.Mvc.Client.ViewModels.DataProviderFindViewModel

@{ 
	ViewBag.Title = "Find DataProvider"; 
}

<h2>@ViewBag.Title</h2>
@using (Ajax.BeginForm(new AjaxOptions { LoadingElementDuration = 400, LoadingElementId = "busyinfo", UpdateTargetId = "results", OnBegin = "onPetitionBegin", OnComplete = "onPetitionComplete" }))
{
	@Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

	<fieldset>
		<legend>DataProvider</legend>

		<div id="search">
			<div class="newline">
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Id):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Id)
					@Html.ValidationMessageFor(model => model.DataProvider.Id)
				</div>
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Name):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Name)
					@Html.ValidationMessageFor(model => model.DataProvider.Name)
				</div>
			</div>
			<div class="newline">
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.OverrideFieldLevelCostOfSale):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.OverrideFieldLevelCostOfSale)
					@Html.ValidationMessageFor(model => model.DataProvider.OverrideFieldLevelCostOfSale)
				</div>
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Owner):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Owner)
					@Html.ValidationMessageFor(model => model.DataProvider.Owner)
				</div>
			</div>
			<div class="newline">
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.SourceURL):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.SourceURL)
					@Html.ValidationMessageFor(model => model.DataProvider.SourceURL)
				</div>
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.StateId):
				</div>
				<div class="field">
					@Html.DropDownListFor(model => model.DataProvider.StateId, Model.States)
					@Html.ValidationMessageFor(model => model.DataProvider.StateId)
				</div>
			</div>
			<div class="newline">
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Version):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Version)
					@Html.ValidationMessageFor(model => model.DataProvider.Version)
				</div>
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.CostOfSale):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.CostOfSale)
					@Html.ValidationMessageFor(model => model.DataProvider.CostOfSale)
				</div>
			</div>
			<div class="newline">
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Created):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Created)
					@Html.ValidationMessageFor(model => model.DataProvider.Created)
				</div>
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Description):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Description)
					@Html.ValidationMessageFor(model => model.DataProvider.Description)
				</div>
			</div>
			<div class="newline">
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.Edited):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.Edited)
					@Html.ValidationMessageFor(model => model.DataProvider.Edited)
				</div>
				<div class="label">
					@Html.LabelFor(model => model.DataProvider.RevisionDate):
				</div>
				<div class="field">
					@Html.EditorFor(model => model.DataProvider.RevisionDate)
					@Html.ValidationMessageFor(model => model.DataProvider.RevisionDate)
				</div>
			</div>
			<div class="buttons">
				<p>
					<input type="reset" name="reset" value="@PresentationResources.Reset" />
					<input type="submit" name="find" value="@PresentationResources.Find" />
				</p>
			</div>
		</div>
		<div id="viewform">[@PresentationResources.ViewForm]</div>
		<div id="busyinfo">
			<img src="~/Content/themes/base/images/busyinfo.gif" alt="@PresentationResources.Loading" />
		</div>
		@{ Html.RenderPartial("_DataProviderFindPartialView"); }
	</fieldset>
}

<div>
	@Html.ActionLink(PresentationResources.GoBack, "Index", "Home")
</div>

@section Scripts 
{
    <script>
        $(document).on("click", "#viewform", function () {
            $("#bcenter").show("slow");
			$("#search").show("slow");
            $("#viewform").hide("slow");
        });

        function onPetitionBegin() {
            $("#results").hide("slow");
            $("#bcenter").hide("slow");
			$("#search").hide("slow");
            $("#viewform").show("slow");
        }

        function onPetitionComplete() {
            $("#results").show("slow");
        }
    </script>
}
