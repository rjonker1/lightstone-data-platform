@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<System.Collections.Generic.IEnumerable<Monitoring.Dashboard.UI.Core.Models.MonitoringResponse>>
<ul>
    @{
        var count = 0;
        foreach (var response in @Model)
        {
            count++;
            var jsonId = "rawJson-" + count;
            var canvasId = "canvas-" + count;
            var toggleId = "toggle-" + count;

            <li>
                <h2>
                    <span><img src="../assets/images/plus.gif" alt="expand" onclick="Toggle('@toggleId', this, '@jsonId', '@canvasId'); " /></span>@response.Metadata
                </h2>

                <div>
                    <div style="display: none;" id="@toggleId">
                        <div>
                            <input type="button" onclick="CollapseAllClicked('@jsonId', '@canvasId'); " value="Collapse" /> <input type="button" value="Expand" onclick="ExpandAllClicked('@jsonId', '@canvasId'); ">
                        </div>
                        <div class="canvas" id="@canvasId"><pre class="CodeContainer"></pre></div>
                        <textarea style="display: none" id="@jsonId" class="rawJson">@response.Payload</textarea>
                    </div>
                </div>
            </li>
        }
    }

</ul>