@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<System.Collections.Generic.IEnumerable<Monitoring.Dashboard.UI.Core.Models.MonitoringResponse>>
@{
    Layout = "_Layout.cshtml";
}
<div style="display: none">
    <select id="TabSize" onchange=" TabSizeChanged() ">
        <option value="1">1</option>
        <option value="2" selected="true">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
    </select>
</div>
<table>
    <thead>
        <tr>
            <th>Aggregate Id</th>
            <th>Payload</th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    @{
        var count = 0;
        foreach (var response in @Model)
        {
            count++;
            var jsonId = "rawJson-" + count;
            var canvasId = "canvas-" + count;
            <tr>
                <td>@response.Id</td>
                <td><input type="button" value="View Payload" onclick="Process('@jsonId', '@canvasId') "></td>
                <td>
                    <div class="canvas" id="@canvasId"><pre class="CodeContainer"></pre></div>
                </td>
                <td><textarea style="display: none" id="@jsonId" class="rawJson">@response.Payload</textarea></td>
            </tr>

        }
    }

    </tbody>
</table>
@section Scripts
{
    <script type="text/javascript" charset="utf-8" src="~/Scripts/json-formatter.js"></script>
}