@using UserManagement.Api.ViewModels
@*@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<LookupViewModel>*@

@Html.Partial("Shared/PageHeader", new HeaderViewModel("Customers", ""))

<div class="box">
    @*<table id="customers_table" class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>
                    Id
                </th>
                <th>
                    Customer Name
                </th>
                <th>
                    Account Owner Name
                </th>
                <th>
                    Created Date
                </th>
                <th>
                    Platform State
                </th>
                <th>
                    Commercial State
                </th>
                <th>
                    <i id="ctActionIcon" class="fa fa-bolt"></i>
                </th>
            </tr>
        </thead>
    </table>*@
    
    <table id="table"></table>

</div>
<script>
    //var table = $("#customers_table").dataTable({
    //    dom: '<"box-header"f>t<"box-footer"lip>r',
    //    lengthMenu: [[10, 25, 50, -1], [10, 25, 50, "All"]],
    //    processing: true,
    //    serverSide: true,
    //    ajax: "/Customers/",
    //    columns: [
    //        { data: "id", visible: false },
    //        { data: "name" },
    //        { data: "accountOwnerName" },
    //        { data: "createdDate" },
    //        { data: "PlatformState" },
    //        { data: "CommercialState" },
    //        {
    //            data: null,
    //            render: function (data, type, full, meta) {
    //                return '<div class="row">' +
    //                    '<div class="col-lg-1"><a class="btn btn-primary entity-edit" href="#/Customers/' + data.id + '">Edit</a></div>' +
    //                    '<div class="col-lg-1"><a class="btn btn-danger entity-remove" href="#/Customers/Delete/' + data.id + '">Delete</a></div>' +
    //                    '</div>';
    //            }
    //        }
    //    ]
    //});

    //$("<a>", { "class": "btn btn-default entity-add pull-left", href: "#/Customers/Add", text: "Add" }).appendTo($("div.box-header"));

    $('#table').bootstrapTable({
        url: '/Customers',
        search: true,
        showRefresh: true,
        showColumns: true,
        pagination: true,
        pageNumber: 1,
        pageSize: 10,
        pageList: [10, 25, 50, 100, 'All'],
        columns: [{
            field: 'id',
            title: 'Item ID',
            visible: false
        }, {
            field: 'name',
            title: 'Customer Name',
            sortable: true
        }, {
            field: 'accountOwnerName',
            title: 'Account Owner Name'
            //formatter: gridUsersFormatter,
            //events: userGridActionEvents
        }, {
            field: 'type',
            title: 'User Type',
            sortable: true
        }, {
            field: 'owner',
            title: 'Owner',
            sortable: true
        }, {
            field: 'createdDate',
            title: 'Created Date',
            //formatter: gridProductsFormatter,
            //events: productGridActionEvents
        }, {
            field: 'platformState',
            title: 'Platform State',
            //formatter: gridTransactionsFormatter
        }, {
            field: 'commercial State',
            title: 'User Type',
            sortable: true
        }]
    });

    UserManagement.overrideDataTablesStyling();
</script>