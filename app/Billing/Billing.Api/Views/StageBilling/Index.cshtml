@using Billing.Api.ViewModels
@Html.Partial("Shared/PageHeader", new HeaderViewModel("Stage Billing", ""))

<div class="box">

    <table id="table"></table>
    
    <h2 id="detail-table-header"></h2>
    <table id="detail"></table>
 
    <script src="~/Scripts/app/stage_data.js"></script>

    <script>

        $('#table').bootstrapTable({
            url: '/StageBilling',
            search: true,
            showRefresh: true,
            showColumns: true,
            pagination: true,
            pageNumber: 1,
            pageSize: 10,
            pageList: [10, 25, 50, 100, 'All'],
            columns: [{
                field: 'id',
                title: 'Customer ID',
                visible: false
            }, {
                field: 'customerName',
                title: 'Customer / Client Name',
                sortable: true
            }, {
                field: 'users',
                title: '# Users',
                formatter: gridUsersFormatter,
                events: userGridActionEvents
            }, {
                field: 'type',
                title: 'Customer / Client Type',
                sortable: true
            }, {
                field: 'owner',
                title: 'Owner',
                sortable: true
            }, {
                field: 'products',
                title: '# Packages',
                formatter: gridPackagesFormatter,
                events: packageGridActionEvents
            }, {
                field: 'transactions',
                title: '# Transactions',
                formatter: gridTransactionsFormatter
            }, {
                field: 'billedTransactions',
                title: '# Billed Transactions',
                formatter: gridBilledTransactionsFormatter
            }, {
                field: 'invoice',
                formatter: invoiceFormatter,
                events: invoiceActionEvents
            }]
        });

        Billing.overrideDataTablesStyling();
    </script>
</div>

<!-- Invoice Modal -->
<div class="modal fade" id="invoice-modal" tabindex="-1" role="dialog" aria-labelledby="invoiceModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            
            <div class="modal-body invoice-render"><div class="te"></div></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Package Edit Modal -->
<div class="modal fade" id="packageEdit-modal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body">
                Package Edit
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- User Transaction Edit Modal -->
<div class="modal fade" id="userTransEdit-modal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body transactionedit-render">                

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
