@using System.Linq
@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<System.Collections.Generic.List<Lim.Domain.Client.ApiConfiguration>>
@{
    Layout = "_Layout.cshtml";
}
<body class="skin-blue">
    <div class="wrapper">
        <div class="wrapper">
            @Html.Partial("_Header.cshtml")
            @Html.Partial("_Sidebar.cshtml")

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>
                        LIM
                        <small>API Configurations</small>
                    </h1>
                </section>
                <!-- Main content -->
                <section class="content">
                    <div class="row">
                        <div class="col-xs-2">
                            <a class="btn btn-block btn-success" href="/integrations/for/api/push">Create Push</a>
                        </div>
                        <div class="col-xs-2">
                            <a class="btn btn-block btn-success" href="/integrations/for/api/pull">Create Pull</a>
                        </div>
                        <div class="col-xs-12">
                            <div class="box">
                                <div class="box-header">
                                    <h3 class="box-title">Existing Configurations</h3>
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <table id="example2" class="table table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th>Client</th>
                                                <th>Action</th>
                                                <th>Frequency</th>
                                                <th>Type</th>
                                                <th>Is Active</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var config in Model)
                                            {
                                                <tr>
                                                    <td>@config.Client.Name</td>
                                                    @foreach (var configuration in config.Client.Configurations)
                                                    {
                                                    <td>@configuration.Action</td>
                                                    <td>@configuration.Frequency</td>
                                                    <td>@configuration.Type</td>
                                                    <td>@configuration.IsActive</td>
                                                    <td><a class="btn btn-block btn-success" href="/integrations/for/api/@configuration.Action/edit/@configuration.Id/@configuration.ClientId">Edit</a></td>
                                                    }
                                                   
                                                    @*<td><button class="btn btn-block btn-success btn-lg">View</button></td>*@
                                                </tr>
                                            }
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Client</th>
                                                <th>Action</th>
                                                <th>Frequency</th>
                                                <th>Type</th>
                                                <th>Is Active</th>
                                                <th></th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div><!-- /.box-body -->
                            </div>
                        </div>
                    </div>
                </section><!-- /.content -->
            </div><!-- /.content-wrapper -->
            @Html.Partial("_Footer.cshtml")
        </div>
    </div>
    <script src="~/assets/jquery/jquery-1.10.2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="~/assets/js/app.min.js" type="text/javascript"></script>
</body>
